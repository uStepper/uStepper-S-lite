<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uStepper S-lite: Arduino library for the uStepper S-lite Board</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">uStepper S-lite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Arduino library for the uStepper S-lite Board </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the uStepper S-lite Arduino library, providing software functions for the different features of the uStepper S-lite board.</p>
<dl class="section user"><dt>Features</dt><dd>The uStepper S-lite library contains the following features:</dd></dl>
<ul>
<li>Second order acceleration profile, to provide smooth ramping of the speed and to avoid the motor stalling when demanding high speeds.</li>
<li>Closed loop PID position controller</li>
<li>Control of RC servo motors</li>
<li>Measure the current position of the shaft (absolute, multiple revolutions)</li>
<li>Measure the current speed of the motor</li>
<li>Stall detection for use in e.g. limit detection functionality</li>
</ul>
<p>The library uses both timer one and timer three in order to function properly, meaning that unless the user of this library can accept the loss of some functionality, these two timers are unavailable and the registers associated with these timers should not be reconfigured.</p>
<p>Timer one is used for sampling the encoder in order to provide the ability to keep track of both the current speed and the angle moved since the board was reset (or a new home position was configured). Also the drop-in features missed step detection and correction is done in this timer.</p>
<p>Timer three is used to calculate the stepper acceleration algorithm. <br  />
</p>
<dl class="section user"><dt>Installation</dt><dd>To install the uStepper S-lite library into the Arduino IDE, perform the following steps:</dd></dl>
<ul>
<li>Go to Sketch-&gt;Include Libraries-&gt;Manage Libraries... in the arduino IDE</li>
<li>Search for "uStepper S-lite", in the top right corner of the "Library Manager" window</li>
<li>Install uStepper S-lite library</li>
</ul>
<p>The library is tested with Arduino IDE 1.8.12</p>
<dl class="section warning"><dt>Warning</dt><dd>MAC users should be aware, that OSX does NOT include FTDI VCP drivers, needed to upload sketches to the uStepper S-lite, by default. This driver should be downloaded and installed from FTDI's website: </dd>
<dd>
<a href="http://www.ftdichip.com/Drivers/VCP.htm">http://www.ftdichip.com/Drivers/VCP.htm</a> </dd>
<dd>
The uStepper S-lite should NOT be connected to the USB port while installing this driver ! </dd>
<dd>
This is not (commonly) a problem for windows/linux users, as these drivers are most often already included in the OS</dd></dl>
<dl class="section user"><dt>Theory</dt><dd></dd></dl>
<p>The acceleration profile implemented in this library is a second order profile, meaning that the stepper will accelerate with a constant acceleration, the velocity will follow a linear function and the position will look like an S-curve (it will follow a linear function at top speed and a second order function during acceleration and deceleration). As a result, the position of the stepper motor will have continous and differentiable first and second derivatives.</p>
<p>The second order acceleration profile can be illustrated as follows (<a href="http://picprog.strongedge.net/step_prof/step-profile.html" rel="license">Source</a>):</p>
<div class="image">
<img src="dva.gif" alt=""/>
</div>
<p>From the above picture it can be seen how the motor moves with this second order acceleration profile. The postion is depicted as orange, velocity as red and the acceleration as green. <br  />
</p>
<dl class="section user"><dt>Copyright</dt><dd></dd></dl>
<p>(C) 2020 uStepper ApS</p>
<p>www.ustepper.com <br  />
</p>
<p><a href="#" onclick="location.href='mai'+'lto:'+'adm'+'in'+'ist'+'ra'+'tio'+'n@'+'ust'+'ep'+'per'+'.c'+'om'; return false;">admin<span style="display: none;">.nosp@m.</span>istr<span style="display: none;">.nosp@m.</span>ation<span style="display: none;">.nosp@m.</span>@ust<span style="display: none;">.nosp@m.</span>epper<span style="display: none;">.nosp@m.</span>.com</a> <br  />
</p>
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Creative Commons License" style="border-width:0" class="inline"/> <br  />
</p>
<p>The code contained in this file is released under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a></p>
<p>The code in this library is provided without warranty of any kind - use at own risk! <br  />
 neither uStepper ApS nor the author, can be held responsible for any damage <br  />
 caused by the use of the code contained in this library ! <br  />
</p>
<dl class="section user"><dt>To do list</dt><dd><ul>
<li>Clean out in unused variables</li>
<li>Update comments</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Known Bugs</dt><dd><ul>
<li>No known bugs</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Thomas HÃ¸rring Olsen (<a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'s@u'+'st'+'epp'+'er'+'.co'+'m'; return false;">thoma<span style="display: none;">.nosp@m.</span>s@us<span style="display: none;">.nosp@m.</span>teppe<span style="display: none;">.nosp@m.</span>r.co<span style="display: none;">.nosp@m.</span>m</a>) </dd></dl>
<dl class="section user"><dt>Change Log</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.1.0:<ul>
<li>Fixed problem with deceleration not being used on stop and change of speed</li>
<li>Added functionality to choose between hard stop and soft stop (hardStop() and softStop()) </li>
</ul>
</dd>
<dd>
1.0.0:<ul>
<li>Fixed dropin and PID</li>
<li>Complete rewrite of step generation algorithm, to increase performance and accuracy</li>
<li>Added CLI interface to adjust dropin parameters and store to EEPROM</li>
<li>Added docs</li>
<li>ALOT of bugfixes </li>
</ul>
</dd>
<dd>
0.1.1:<ul>
<li>Updated <a class="el" href="classuStepperServo.html" title="Prototype of class for ustepper servo.">uStepperServo</a> example</li>
<li>Removed timer1 tampering from <a class="el" href="uStepperServo_8cpp.html" title="Function prototypes and definitions for the uStepper Servo library.">uStepperServo.cpp</a> </li>
</ul>
</dd>
<dd>
0.1.0: <br  />
<ul>
<li>Initial release </li>
</ul>
</dd></dl>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 14 2020 14:01:47 for uStepper S-lite by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
